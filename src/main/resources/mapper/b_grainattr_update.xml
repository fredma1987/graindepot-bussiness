<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by AutoCode,v1.0.0 --><mapper namespace="com.zhoubi.graindepot.mapper.GrainattrUpdateMapper">	<insert id="insert" parameterType="com.zhoubi.graindepot.bean.GrainattrUpdate" useGeneratedKeys="true" keyProperty="keyid">		insert into b_grainattr_update		(		billcode		,billdate		,billstate		,groupid		,companyid		,graindepotid		,storageid		,grainid		,producingyear		,oldgrainattrid		,newgrainattrid		,updateqty		,createuserid		,createtime		,spuserid		,sptime		,delflag		)		values		(		#{billcode}		,#{billdate}		,#{billstate}		,#{groupid}		,#{companyid}		,#{graindepotid}		,#{storageid}		,#{grainid}		,#{producingyear}		,#{oldgrainattrid}		,#{newgrainattrid}		,#{updateqty}		,#{createuserid}		,#{createtime}		,#{spuserid}		,#{sptime}		,#{delflag}	)</insert>	<insert id="insertList" parameterType="java.util.List" useGeneratedKeys="true" >		insert into b_grainattr_update		(		billcode		,billdate		,billstate		,groupid		,companyid		,graindepotid		,storageid		,grainid		,producingyear		,oldgrainattrid		,newgrainattrid		,updateqty		,createuserid		,createtime		,spuserid		,sptime		,delflag		)		values		<foreach collection="list" item="item" index="index" separator=",">		 (		#{item.billcode}		,#{item.billdate}		,#{item.billstate}		,#{item.groupid}		,#{item.companyid}		,#{item.graindepotid}		,#{item.storageid}		,#{item.grainid}		,#{item.producingyear}		,#{item.oldgrainattrid}		,#{item.newgrainattrid}		,#{item.updateqty}		,#{item.createuserid}		,#{item.createtime}		,#{item.spuserid}		,#{item.sptime}		,#{item.delflag}	) </foreach></insert>	<update id="update" parameterType="com.zhoubi.graindepot.bean.GrainattrUpdate">		update b_grainattr_update		  set keyid=keyid		,billcode=#{billcode}		,billdate=#{billdate}		,storageid=#{storageid}		,grainid=#{grainid}		,producingyear=#{producingyear}		,oldgrainattrid=#{oldgrainattrid}		,newgrainattrid=#{newgrainattrid}		,updateqty=#{updateqty}		,createuserid=#{createuserid}		 where keyid=#{keyid}	</update>	<update id="updateMap" parameterType="Map">		update b_grainattr_update		  set keyid=keyid 		<if test="billcode != null"> ,billcode=#{billcode} </if>		<if test="billdate != null"> ,billdate=#{billdate} </if>		<if test="billstate != null"> ,billstate=#{billstate} </if>		<if test="groupid != null"> ,groupid=#{groupid} </if>		<if test="companyid != null"> ,companyid=#{companyid} </if>		<if test="graindepotid != null"> ,graindepotid=#{graindepotid} </if>		<if test="storageid != null"> ,storageid=#{storageid} </if>		<if test="grainid != null"> ,grainid=#{grainid} </if>		<if test="producingyear != null"> ,producingyear=#{producingyear} </if>		<if test="oldgrainattrid != null"> ,oldgrainattrid=#{oldgrainattrid} </if>		<if test="newgrainattrid != null"> ,newgrainattrid=#{newgrainattrid} </if>		<if test="updateqty != null"> ,updateqty=#{updateqty} </if>		<if test="createuserid != null"> ,createuserid=#{createuserid} </if>		<if test="createtime != null"> ,createtime=#{createtime} </if>		<if test="spuserid != null"> ,spuserid=#{spuserid} </if>		<if test="sptime != null"> ,sptime=#{sptime} </if>		<if test="delflag != null"> ,delflag=#{delflag} </if>		 where 1=1 		<if test="Where_IdsStr != null"> and keyid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and keyid =#{Where_Id} </if>		<if test="Where_keyid != null"> and keyid=#{Where_keyid} </if>		<if test="Where_billcode != null"> and billcode=#{Where_billcode} </if>		<if test="Where_billdate != null"> and billdate=#{Where_billdate} </if>		<if test="Where_billstate != null"> and billstate=#{Where_billstate} </if>		<if test="Where_groupid != null"> and groupid=#{Where_groupid} </if>		<if test="Where_companyid != null"> and companyid=#{Where_companyid} </if>		<if test="Where_graindepotid != null"> and graindepotid=#{Where_graindepotid} </if>		<if test="Where_storageid != null"> and storageid=#{Where_storageid} </if>		<if test="Where_grainid != null"> and grainid=#{Where_grainid} </if>		<if test="Where_producingyear != null"> and producingyear=#{Where_producingyear} </if>		<if test="Where_oldgrainattrid != null"> and oldgrainattrid=#{Where_oldgrainattrid} </if>		<if test="Where_newgrainattrid != null"> and newgrainattrid=#{Where_newgrainattrid} </if>		<if test="Where_updateqty != null"> and updateqty=#{Where_updateqty} </if>		<if test="Where_createuserid != null"> and createuserid=#{Where_createuserid} </if>		<if test="Where_createtime != null"> and createtime=#{Where_createtime} </if>		<if test="Where_spuserid != null"> and spuserid=#{Where_spuserid} </if>		<if test="Where_sptime != null"> and sptime=#{Where_sptime} </if>		<if test="Where_delflag != null"> and delflag=#{Where_delflag} </if>	</update>	<resultMap id="baseGrainattrUpdateMap" type="com.zhoubi.graindepot.bean.GrainattrUpdate"> 		<id column="keyid" property="keyid"/>		<result column="billcode" property="billcode"/>		<result column="billdate" property="billdate"/>		<result column="billstate" property="billstate"/>		<result column="groupid" property="groupid"/>		<result column="companyid" property="companyid"/>		<result column="graindepotid" property="graindepotid"/>		<result column="storageid" property="storageid"/>		<result column="grainid" property="grainid"/>		<result column="producingyear" property="producingyear"/>		<result column="oldgrainattrid" property="oldgrainattrid"/>		<result column="newgrainattrid" property="newgrainattrid"/>		<result column="updateqty" property="updateqty"/>		<result column="createuserid" property="createuserid"/>		<result column="createtime" property="createtime"/>		<result column="spuserid" property="spuserid"/>		<result column="sptime" property="sptime"/>		<result column="delflag" property="delflag"/>	</resultMap>	<select id="selectById" parameterType="int" resultType="com.zhoubi.graindepot.bean.GrainattrUpdate">	 select 		t.keyid "keyid",		t.billcode "billcode",		t.billdate "billdate",		t.billstate "billstate",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.storageid "storageid",		t.grainid "grainid",		t.producingyear "producingyear",		t.oldgrainattrid "oldgrainattrid",		t.newgrainattrid "newgrainattrid",		t.updateqty "updateqty",		t.createuserid "createuserid",		t.createtime "createtime",		t.spuserid "spuserid",		t.sptime "sptime",		t.delflag "delflag",		lc.companyname "companyname",		lg.graindepotname "graindepotname",		ls.storagename "storagename",		lgn.grainname "grainname",		lgr1.grainattrname "oldgrainattrname",		lgr2.grainattrname "newgrainattrname",		lgp.groupname "groupname"	 from b_grainattr_update t	 	left join l_group lgp on lgp.groupid=t.groupid		left join l_company lc on lc.companyid=t.companyid		left join l_graindepot lg on lg.graindepotid=t.graindepotid		left join l_storage ls on ls.storageid=t.storageid		left join l_grain lgn on lgn.grainid=t.grainid		left join l_grainattr lgr1 on lgr1.grainattrid=t.oldgrainattrid		left join l_grainattr lgr2 on lgr2.grainattrid=t.newgrainattrid		where keyid=#{keyid}	</select>	<select id="selectOne" parameterType="Map" resultType="com.zhoubi.graindepot.bean.GrainattrUpdate">	 select 		t.keyid "keyid",		t.billcode "billcode",		t.billdate "billdate",		t.billstate "billstate",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.storageid "storageid",		t.grainid "grainid",		t.producingyear "producingyear",		t.oldgrainattrid "oldgrainattrid",		t.newgrainattrid "newgrainattrid",		t.updateqty "updateqty",		t.createuserid "createuserid",		t.createtime "createtime",		t.spuserid "spuserid",		t.sptime "sptime",		t.delflag "delflag"	 from b_grainattr_update t where 1=1 		 <if test="keyid != null"> and t.keyid=#{keyid} </if>		 <if test="billcode != null"> and t.billcode=#{billcode} </if>		 <if test="billdate != null"> and t.billdate=#{billdate} </if>		 <if test="billstate != null"> and t.billstate=#{billstate} </if>		 <if test="groupid != null"> and t.groupid=#{groupid} </if>		 <if test="companyid != null"> and t.companyid=#{companyid} </if>		 <if test="graindepotid != null"> and t.graindepotid=#{graindepotid} </if>		 <if test="storageid != null"> and t.storageid=#{storageid} </if>		 <if test="grainid != null"> and t.grainid=#{grainid} </if>		 <if test="producingyear != null"> and t.producingyear=#{producingyear} </if>		 <if test="oldgrainattrid != null"> and t.oldgrainattrid=#{oldgrainattrid} </if>		 <if test="newgrainattrid != null"> and t.newgrainattrid=#{newgrainattrid} </if>		 <if test="updateqty != null"> and t.updateqty=#{updateqty} </if>		 <if test="createuserid != null"> and t.createuserid=#{createuserid} </if>		 <if test="createtime != null"> and t.createtime=#{createtime} </if>		 <if test="spuserid != null"> and t.spuserid=#{spuserid} </if>		 <if test="sptime != null"> and t.sptime=#{sptime} </if>		 <if test="delflag != null"> and t.delflag=#{delflag} </if>	</select>	<select id="selectList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.GrainattrUpdate">	 select 		t.keyid "keyid",		t.billcode "billcode",		t.billdate "billdate",		t.billstate "billstate",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.storageid "storageid",		t.grainid "grainid",		t.producingyear "producingyear",		t.oldgrainattrid "oldgrainattrid",		t.newgrainattrid "newgrainattrid",		t.updateqty "updateqty",		t.createuserid "createuserid",		t.createtime "createtime",		t.spuserid "spuserid",		t.sptime "sptime",		t.delflag "delflag"	 from b_grainattr_update t where 1=1 		 <if test="keyid != null"> and t.keyid=#{keyid} </if>		 <if test="billcode != null"> and t.billcode=#{billcode} </if>		 <if test="billdate != null"> and t.billdate=#{billdate} </if>		 <if test="billstate != null"> and t.billstate=#{billstate} </if>		 <if test="groupid != null"> and t.groupid=#{groupid} </if>		 <if test="companyid != null"> and t.companyid=#{companyid} </if>		 <if test="graindepotid != null"> and t.graindepotid=#{graindepotid} </if>		 <if test="storageid != null"> and t.storageid=#{storageid} </if>		 <if test="grainid != null"> and t.grainid=#{grainid} </if>		 <if test="producingyear != null"> and t.producingyear=#{producingyear} </if>		 <if test="oldgrainattrid != null"> and t.oldgrainattrid=#{oldgrainattrid} </if>		 <if test="newgrainattrid != null"> and t.newgrainattrid=#{newgrainattrid} </if>		 <if test="updateqty != null"> and t.updateqty=#{updateqty} </if>		 <if test="createuserid != null"> and t.createuserid=#{createuserid} </if>		 <if test="createtime != null"> and t.createtime=#{createtime} </if>		 <if test="spuserid != null"> and t.spuserid=#{spuserid} </if>		 <if test="sptime != null"> and t.sptime=#{sptime} </if>		 <if test="delflag != null"> and t.delflag=#{delflag} </if>	</select>	<delete id="deleteMap" parameterType="Map">		delete from b_grainattr_update where 1=1 		<if test="Where_IdsStr != null"> and keyid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and keyid =#{Where_Id} </if>		<if test="Where_keyid != null"> and keyid=#{Where_keyid} </if>		<if test="Where_billcode != null"> and billcode=#{Where_billcode} </if>		<if test="Where_billdate != null"> and billdate=#{Where_billdate} </if>		<if test="Where_billstate != null"> and billstate=#{Where_billstate} </if>		<if test="Where_groupid != null"> and groupid=#{Where_groupid} </if>		<if test="Where_companyid != null"> and companyid=#{Where_companyid} </if>		<if test="Where_graindepotid != null"> and graindepotid=#{Where_graindepotid} </if>		<if test="Where_storageid != null"> and storageid=#{Where_storageid} </if>		<if test="Where_grainid != null"> and grainid=#{Where_grainid} </if>		<if test="Where_producingyear != null"> and producingyear=#{Where_producingyear} </if>		<if test="Where_oldgrainattrid != null"> and oldgrainattrid=#{Where_oldgrainattrid} </if>		<if test="Where_newgrainattrid != null"> and newgrainattrid=#{Where_newgrainattrid} </if>		<if test="Where_updateqty != null"> and updateqty=#{Where_updateqty} </if>		<if test="Where_createuserid != null"> and createuserid=#{Where_createuserid} </if>		<if test="Where_createtime != null"> and createtime=#{Where_createtime} </if>		<if test="Where_spuserid != null"> and spuserid=#{Where_spuserid} </if>		<if test="Where_sptime != null"> and sptime=#{Where_sptime} </if>		<if test="Where_delflag != null"> and delflag=#{Where_delflag} </if>	</delete>	<sql id="page_template">		<if test="orders != null">		 order by 		<foreach collection="orders" item="order" separator=",">		 ${order} 		</foreach>		</if>		 limit #{offset},#{pageSize} 	</sql> 	<select id="selectPageList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.GrainattrUpdate">	 select 		t.keyid "keyid",		t.billcode "billcode",		t.billdate "billdate",		t.billstate "billstate",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.storageid "storageid",		t.grainid "grainid",		t.producingyear "producingyear",		t.oldgrainattrid "oldgrainattrid",		t.newgrainattrid "newgrainattrid",		t.updateqty "updateqty",		t.createuserid "createuserid",		t.createtime "createtime",		t.spuserid "spuserid",		t.sptime "sptime",		t.delflag "delflag",		lc.companyname "companyname",		lg.graindepotname "graindepotname",		ls.storagename "storagename",		lgn.grainname "grainname",		lgr1.grainattrname "oldgrainattrname",		lgr2.grainattrname "newgrainattrname"	 from b_grainattr_update t		left join l_company lc on lc.companyid=t.companyid		left join l_graindepot lg on lg.graindepotid=t.graindepotid		left join l_storage ls on ls.storageid=t.storageid		left join l_grain lgn on lgn.grainid=t.grainid		left join l_grainattr lgr1 on lgr1.grainattrid=t.oldgrainattrid		left join l_grainattr lgr2 on lgr2.grainattrid=t.newgrainattrid		where 1=1		<if test="keyid!=null "> and t.keyid=#{keyid} </if>		<if test="billcode!=null "> and t.billcode=#{billcode} </if>		<if test="billdate!=null "> and t.billdate=#{billdate} </if>		<if test="billstate!=null "> and t.billstate=#{billstate} </if>		<if test="groupid!=null "> and t.groupid=#{groupid} </if>		<if test="companyid!=null "> and t.companyid=#{companyid} </if>		<if test="graindepotid!=null "> and t.graindepotid=#{graindepotid} </if>		<if test="storageid!=null "> and t.storageid=#{storageid} </if>		<if test="grainid!=null "> and t.grainid=#{grainid} </if>		<if test="producingyear!=null "> and t.producingyear=#{producingyear} </if>		<if test="oldgrainattrid!=null "> and t.oldgrainattrid=#{oldgrainattrid} </if>		<if test="newgrainattrid!=null "> and t.newgrainattrid=#{newgrainattrid} </if>		<if test="updateqty!=null "> and t.updateqty=#{updateqty} </if>		<if test="createuserid!=null "> and t.createuserid=#{createuserid} </if>		<if test="createtime!=null "> and t.createtime=#{createtime} </if>		<if test="spuserid!=null "> and t.spuserid=#{spuserid} </if>		<if test="sptime!=null "> and t.sptime=#{sptime} </if>		<if test="delflag!=null "> and t.delflag=#{delflag} </if>		 <include refid="page_template"/> 	</select> 	<select id="selectPageCount" parameterType="Map" resultType="int">	 select count(*) from b_grainattr_update t where 1=1 		<if test="keyid!=null "> and t.keyid=#{keyid} </if>		<if test="NoId!=null "> and t.keyid!=#{NoId} </if>		<if test="billcode!=null "> and t.billcode=#{billcode} </if>		<if test="billdate!=null "> and t.billdate=#{billdate} </if>		<if test="billstate!=null "> and t.billstate=#{billstate} </if>		<if test="groupid!=null "> and t.groupid=#{groupid} </if>		<if test="companyid!=null "> and t.companyid=#{companyid} </if>		<if test="graindepotid!=null "> and t.graindepotid=#{graindepotid} </if>		<if test="storageid!=null "> and t.storageid=#{storageid} </if>		<if test="grainid!=null "> and t.grainid=#{grainid} </if>		<if test="producingyear!=null "> and t.producingyear=#{producingyear} </if>		<if test="oldgrainattrid!=null "> and t.oldgrainattrid=#{oldgrainattrid} </if>		<if test="newgrainattrid!=null "> and t.newgrainattrid=#{newgrainattrid} </if>		<if test="updateqty!=null "> and t.updateqty=#{updateqty} </if>		<if test="createuserid!=null "> and t.createuserid=#{createuserid} </if>		<if test="createtime!=null "> and t.createtime=#{createtime} </if>		<if test="spuserid!=null "> and t.spuserid=#{spuserid} </if>		<if test="sptime!=null "> and t.sptime=#{sptime} </if>		<if test="delflag!=null "> and t.delflag=#{delflag} </if>	</select>	<select id="getMaxBillcode" parameterType="int" resultType="String">		SELECT max(billcode)		FROM b_grainattr_update where billcode like		CONCAT(DATE_FORMAT(NOW(),"%Y-%m-%d"),"%")  and  graindepotid=#{graindepotid}	</select></mapper>