<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by AutoCode,v1.0.0 --><mapper namespace="com.zhoubi.graindepot.mapper.DruginstoreDetailMapper">	<insert id="insert" parameterType="com.zhoubi.graindepot.bean.DruginstoreDetail" useGeneratedKeys="true" keyProperty="keyid">		insert into d_druginstore_detail		(		billid		,rowno		,drugid		,inqty		,price		,amount		,unitqty		,inmeasqty		,prodfac		,proddate		,batchcode		,remark		)		values		(		#{billid}		,#{rowno}		,#{drugid}		,#{inqty}		,#{price}		,#{amount}		,#{unitqty}		,#{inmeasqty}		,#{prodfac}		,#{proddate}		,#{batchcode}		,#{remark}	)</insert>	<insert id="insertList" parameterType="java.util.List" useGeneratedKeys="true" >		insert into d_druginstore_detail		(		billid		,rowno		,drugid		,inqty		,price		,amount		,unitqty		,inmeasqty		,prodfac		,proddate		,batchcode		,remark		)		values		<foreach collection="list" item="item" index="index" separator=",">		 (		#{item.billid}		,#{item.rowno}		,#{item.drugid}		,#{item.inqty}		,#{item.price}		,#{item.amount}		,#{item.unitqty}		,#{item.inmeasqty}		,#{item.prodfac}		,#{item.proddate}		,#{item.batchcode}		,#{item.remark}	) </foreach></insert>	<update id="update" parameterType="com.zhoubi.graindepot.bean.DruginstoreDetail">		update d_druginstore_detail		  set keyid=keyid		,billid=#{billid}		,rowno=#{rowno}		,drugid=#{drugid}		,inqty=#{inqty}		,price=#{price}		,amount=#{amount}		,unitqty=#{unitqty}		,inmeasqty=#{inmeasqty}		,prodfac=#{prodfac}		,proddate=#{proddate}		,batchcode=#{batchcode}		,remark=#{remark}		 where keyid=#{keyid}	</update>	<update id="updateMap" parameterType="Map">		update d_druginstore_detail		  set keyid=keyid 		<if test="billid != null"> ,billid=#{billid} </if>		<if test="rowno != null"> ,rowno=#{rowno} </if>		<if test="drugid != null"> ,drugid=#{drugid} </if>		<if test="inqty != null"> ,inqty=#{inqty} </if>		<if test="price != null"> ,price=#{price} </if>		<if test="amount != null"> ,amount=#{amount} </if>		<if test="unitqty != null"> ,unitqty=#{unitqty} </if>		<if test="inmeasqty != null"> ,inmeasqty=#{inmeasqty} </if>		<if test="prodfac != null"> ,prodfac=#{prodfac} </if>		<if test="proddate != null"> ,proddate=#{proddate} </if>		<if test="batchcode != null"> ,batchcode=#{batchcode} </if>		<if test="remark != null"> ,remark=#{remark} </if>		 where 1=1 		<if test="Where_IdsStr != null"> and keyid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and keyid =#{Where_Id} </if>		<if test="Where_keyid != null"> and keyid=#{Where_keyid} </if>		<if test="Where_billid != null"> and billid=#{Where_billid} </if>		<if test="Where_rowno != null"> and rowno=#{Where_rowno} </if>		<if test="Where_drugid != null"> and drugid=#{Where_drugid} </if>		<if test="Where_inqty != null"> and inqty=#{Where_inqty} </if>		<if test="Where_price != null"> and price=#{Where_price} </if>		<if test="Where_amount != null"> and amount=#{Where_amount} </if>		<if test="Where_unitqty != null"> and unitqty=#{Where_unitqty} </if>		<if test="Where_inmeasqty != null"> and inmeasqty=#{Where_inmeasqty} </if>		<if test="Where_prodfac != null"> and prodfac=#{Where_prodfac} </if>		<if test="Where_proddate != null"> and proddate=#{Where_proddate} </if>		<if test="Where_batchcode != null"> and batchcode=#{Where_batchcode} </if>		<if test="Where_remark != null"> and remark=#{Where_remark} </if>	</update>	<resultMap id="baseDruginstoreDetailMap" type="com.zhoubi.graindepot.bean.DruginstoreDetail"> 		<id column="keyid" property="keyid"/>		<result column="billid" property="billid"/>		<result column="rowno" property="rowno"/>		<result column="drugid" property="drugid"/>		<result column="inqty" property="inqty"/>		<result column="price" property="price"/>		<result column="amount" property="amount"/>		<result column="unitqty" property="unitqty"/>		<result column="inmeasqty" property="inmeasqty"/>		<result column="prodfac" property="prodfac"/>		<result column="proddate" property="proddate"/>		<result column="batchcode" property="batchcode"/>		<result column="remark" property="remark"/>	</resultMap>	<select id="selectById" parameterType="int" resultType="com.zhoubi.graindepot.bean.DruginstoreDetail">	 select 		t.keyid "keyid",		t.billid "billid",		t.rowno "rowno",		t.drugid "drugid",		t.inqty "inqty",		t.price "price",		t.amount "amount",		t.unitqty "unitqty",		t.inmeasqty "inmeasqty",		t.prodfac "prodfac",		t.proddate "proddate",		t.batchcode "batchcode",		t.remark "remark",		dd.drgvender "drgvender",		ddg.brand "brand"	 	from d_druginstore_detail t		left join d_druginstore dd on dd.billid=t.billid		left join d_drug ddg on ddg.drugid=t.drugid	 where keyid=#{keyid}	</select>	<select id="selectOne" parameterType="Map" resultType="com.zhoubi.graindepot.bean.DruginstoreDetail">	 select 		t.keyid "keyid",		t.billid "billid",		t.rowno "rowno",		t.drugid "drugid",		t.inqty "inqty",		t.price "price",		t.amount "amount",		t.unitqty "unitqty",		t.inmeasqty "inmeasqty",		t.prodfac "prodfac",		t.proddate "proddate",		t.batchcode "batchcode",		t.remark "remark"	 from d_druginstore_detail t where 1=1 		 <if test="keyid != null"> and t.keyid=#{keyid} </if>		 <if test="billid != null"> and t.billid=#{billid} </if>		 <if test="rowno != null"> and t.rowno=#{rowno} </if>		 <if test="drugid != null"> and t.drugid=#{drugid} </if>		 <if test="inqty != null"> and t.inqty=#{inqty} </if>		 <if test="price != null"> and t.price=#{price} </if>		 <if test="amount != null"> and t.amount=#{amount} </if>		 <if test="unitqty != null"> and t.unitqty=#{unitqty} </if>		 <if test="inmeasqty != null"> and t.inmeasqty=#{inmeasqty} </if>		 <if test="prodfac != null"> and t.prodfac=#{prodfac} </if>		 <if test="proddate != null"> and t.proddate=#{proddate} </if>		 <if test="batchcode != null"> and t.batchcode=#{batchcode} </if>		 <if test="remark != null"> and t.remark=#{remark} </if>	</select>	<select id="selectList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.DruginstoreDetail">	 select 		t.keyid "keyid",		t.billid "billid",		t.rowno "rowno",		t.drugid "drugid",		t.inqty "inqty",		t.price "price",		t.amount "amount",		t.unitqty "unitqty",		t.inmeasqty "inmeasqty",		t.prodfac "prodfac",		t.proddate "proddate",		t.batchcode "batchcode",		t.remark "remark"	 from d_druginstore_detail t where 1=1 		 <if test="keyid != null"> and t.keyid=#{keyid} </if>		 <if test="billid != null"> and t.billid=#{billid} </if>		 <if test="rowno != null"> and t.rowno=#{rowno} </if>		 <if test="drugid != null"> and t.drugid=#{drugid} </if>		 <if test="inqty != null"> and t.inqty=#{inqty} </if>		 <if test="price != null"> and t.price=#{price} </if>		 <if test="amount != null"> and t.amount=#{amount} </if>		 <if test="unitqty != null"> and t.unitqty=#{unitqty} </if>		 <if test="inmeasqty != null"> and t.inmeasqty=#{inmeasqty} </if>		 <if test="prodfac != null"> and t.prodfac=#{prodfac} </if>		 <if test="proddate != null"> and t.proddate=#{proddate} </if>		 <if test="batchcode != null"> and t.batchcode=#{batchcode} </if>		 <if test="remark != null"> and t.remark=#{remark} </if>	</select>	<delete id="deleteMap" parameterType="Map">		delete from d_druginstore_detail where 1=1 		<if test="Where_IdsStr != null"> and keyid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and keyid =#{Where_Id} </if>		<if test="Where_keyid != null"> and keyid=#{Where_keyid} </if>		<if test="Where_billid != null"> and billid=#{Where_billid} </if>		<if test="Where_rowno != null"> and rowno=#{Where_rowno} </if>		<if test="Where_drugid != null"> and drugid=#{Where_drugid} </if>		<if test="Where_inqty != null"> and inqty=#{Where_inqty} </if>		<if test="Where_price != null"> and price=#{Where_price} </if>		<if test="Where_amount != null"> and amount=#{Where_amount} </if>		<if test="Where_unitqty != null"> and unitqty=#{Where_unitqty} </if>		<if test="Where_inmeasqty != null"> and inmeasqty=#{Where_inmeasqty} </if>		<if test="Where_prodfac != null"> and prodfac=#{Where_prodfac} </if>		<if test="Where_proddate != null"> and proddate=#{Where_proddate} </if>		<if test="Where_batchcode != null"> and batchcode=#{Where_batchcode} </if>		<if test="Where_remark != null"> and remark=#{Where_remark} </if>	</delete>	<sql id="page_template">		<if test="orders != null">		 order by 		<foreach collection="orders" item="order" separator=",">		 ${order} 		</foreach>		</if>		 limit #{offset},#{pageSize} 	</sql> 	<select id="selectPageList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.DruginstoreDetail">	 select 		t.keyid "keyid",		t.billid "billid",		t.rowno "rowno",		t.drugid "drugid",		t.inqty "inqty",		t.price "price",		t.amount "amount",		t.unitqty "unitqty",		t.inmeasqty "inmeasqty",		t.prodfac "prodfac",		t.proddate "proddate",		t.batchcode "batchcode",		t.remark "remark",		dd.drgvender "drgvender",		ddg.brand "brand"	 from d_druginstore_detail t		left join d_druginstore dd on dd.billid=t.billid		left join d_drug ddg on ddg.drugid=t.drugid		where 1=1		<if test="keyid!=null "> and t.keyid=#{keyid} </if>		<if test="billid!=null "> and t.billid=#{billid} </if>		<if test="rowno!=null "> and t.rowno=#{rowno} </if>		<if test="drugid!=null "> and t.drugid=#{drugid} </if>		<if test="inqty!=null "> and t.inqty=#{inqty} </if>		<if test="price!=null "> and t.price=#{price} </if>		<if test="amount!=null "> and t.amount=#{amount} </if>		<if test="unitqty!=null "> and t.unitqty=#{unitqty} </if>		<if test="inmeasqty!=null "> and t.inmeasqty=#{inmeasqty} </if>		<if test="prodfac!=null "> and t.prodfac=#{prodfac} </if>		<if test="proddate!=null "> and t.proddate=#{proddate} </if>		<if test="batchcode!=null "> and t.batchcode=#{batchcode} </if>		<if test="remark!=null "> and t.remark=#{remark} </if>		 <include refid="page_template"/> 	</select> 	<select id="selectPageCount" parameterType="Map" resultType="int">	 select count(*) from d_druginstore_detail t where 1=1 		<if test="keyid!=null "> and t.keyid=#{keyid} </if>		<if test="NoId!=null "> and t.keyid!=#{NoId} </if>		<if test="billid!=null "> and t.billid=#{billid} </if>		<if test="rowno!=null "> and t.rowno=#{rowno} </if>		<if test="drugid!=null "> and t.drugid=#{drugid} </if>		<if test="inqty!=null "> and t.inqty=#{inqty} </if>		<if test="price!=null "> and t.price=#{price} </if>		<if test="amount!=null "> and t.amount=#{amount} </if>		<if test="unitqty!=null "> and t.unitqty=#{unitqty} </if>		<if test="inmeasqty!=null "> and t.inmeasqty=#{inmeasqty} </if>		<if test="prodfac!=null "> and t.prodfac=#{prodfac} </if>		<if test="proddate!=null "> and t.proddate=#{proddate} </if>		<if test="batchcode!=null "> and t.batchcode=#{batchcode} </if>		<if test="remark!=null "> and t.remark=#{remark} </if>	</select> </mapper>