<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by AutoCode,v1.0.0 --><mapper namespace="com.zhoubi.graindepot.mapper.DrugoutstoreMapper">	<insert id="insert" parameterType="com.zhoubi.graindepot.bean.Drugoutstore" useGeneratedKeys="true" keyProperty="billid">		insert into d_drugoutstore		(		billdate		,billcode		,billstate		,outdate		,outreason		,drawuser		,outtype		,drugdrawid		,remark		,groupid		,companyid		,graindepotid		,createuserid		,createtime		,updateuserid		,updatetime		)		values		(		#{billdate}		,#{billcode}		,#{billstate}		,#{outdate}		,#{outreason}		,#{drawuser}		,#{outtype}		,#{drugdrawid}		,#{remark}		,#{groupid}		,#{companyid}		,#{graindepotid}		,#{createuserid}		,#{createtime}		,#{updateuserid}		,#{updatetime}	)</insert>	<insert id="insertList" parameterType="java.util.List" useGeneratedKeys="true" >		insert into d_drugoutstore		(		billdate		,billcode		,billstate		,outdate		,outreason		,drawuser		,outtype		,drugdrawid		,remark		,groupid		,companyid		,graindepotid		,createuserid		,createtime		,updateuserid		,updatetime		)		values		<foreach collection="list" item="item" index="index" separator=",">		 (		#{item.billdate}		,#{item.billcode}		,#{item.billstate}		,#{item.outdate}		,#{item.outreason}		,#{item.drawuser}		,#{item.outtype}		,#{item.drugdrawid}		,#{item.remark}		,#{item.groupid}		,#{item.companyid}		,#{item.graindepotid}		,#{item.createuserid}		,#{item.createtime}		,#{item.updateuserid}		,#{item.updatetime}	) </foreach></insert>	<update id="update" parameterType="com.zhoubi.graindepot.bean.Drugoutstore">		update d_drugoutstore		  set billid=billid		,billcode=#{billcode}		,billstate=#{billstate}		,outdate=#{outdate}		,outreason=#{outreason}		,drawuser=#{drawuser}		,outtype=#{outtype}		,drugdrawid=#{drugdrawid}		,remark=#{remark}		,createuserid=#{createuserid}		,updateuserid=#{updateuserid}		,updatetime=#{updatetime}		 where billid=#{billid}	</update>	<update id="updateMap" parameterType="Map">		update d_drugoutstore		  set billid=billid 		<if test="billdate != null"> ,billdate=#{billdate} </if>		<if test="billcode != null"> ,billcode=#{billcode} </if>		<if test="billstate != null"> ,billstate=#{billstate} </if>		<if test="outdate != null"> ,outdate=#{outdate} </if>		<if test="outreason != null"> ,outreason=#{outreason} </if>		<if test="drawuser != null"> ,drawuser=#{drawuser} </if>		<if test="outtype != null"> ,outtype=#{outtype} </if>		<if test="drugdrawid != null"> ,drugdrawid=#{drugdrawid} </if>		<if test="remark != null"> ,remark=#{remark} </if>		<if test="groupid != null"> ,groupid=#{groupid} </if>		<if test="companyid != null"> ,companyid=#{companyid} </if>		<if test="graindepotid != null"> ,graindepotid=#{graindepotid} </if>		<if test="createuserid != null"> ,createuserid=#{createuserid} </if>		<if test="createtime != null"> ,createtime=#{createtime} </if>		<if test="updateuserid != null"> ,updateuserid=#{updateuserid} </if>		<if test="updatetime != null"> ,updatetime=#{updatetime} </if>		 where 1=1 		<if test="Where_IdsStr != null"> and billid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and billid =#{Where_Id} </if>		<if test="Where_billid != null"> and billid=#{Where_billid} </if>		<if test="Where_billdate != null"> and billdate=#{Where_billdate} </if>		<if test="Where_billcode != null"> and billcode=#{Where_billcode} </if>		<if test="Where_billstate != null"> and billstate=#{Where_billstate} </if>		<if test="Where_outdate != null"> and outdate=#{Where_outdate} </if>		<if test="Where_outreason != null"> and outreason=#{Where_outreason} </if>		<if test="Where_drawuser != null"> and drawuser=#{Where_drawuser} </if>		<if test="Where_outtype != null"> and outtype=#{Where_outtype} </if>		<if test="Where_drugdrawid != null"> and drugdrawid=#{Where_drugdrawid} </if>		<if test="Where_remark != null"> and remark=#{Where_remark} </if>		<if test="Where_groupid != null"> and groupid=#{Where_groupid} </if>		<if test="Where_companyid != null"> and companyid=#{Where_companyid} </if>		<if test="Where_graindepotid != null"> and graindepotid=#{Where_graindepotid} </if>		<if test="Where_createuserid != null"> and createuserid=#{Where_createuserid} </if>		<if test="Where_createtime != null"> and createtime=#{Where_createtime} </if>		<if test="Where_updateuserid != null"> and updateuserid=#{Where_updateuserid} </if>		<if test="Where_updatetime != null"> and updatetime=#{Where_updatetime} </if>	</update>	<resultMap id="baseDrugoutstoreMap" type="com.zhoubi.graindepot.bean.Drugoutstore"> 		<id column="billid" property="billid"/>		<result column="billdate" property="billdate"/>		<result column="billcode" property="billcode"/>		<result column="billstate" property="billstate"/>		<result column="outdate" property="outdate"/>		<result column="outreason" property="outreason"/>		<result column="drawuser" property="drawuser"/>		<result column="outtype" property="outtype"/>		<result column="drugdrawid" property="drugdrawid"/>		<result column="remark" property="remark"/>		<result column="groupid" property="groupid"/>		<result column="companyid" property="companyid"/>		<result column="graindepotid" property="graindepotid"/>		<result column="createuserid" property="createuserid"/>		<result column="createtime" property="createtime"/>		<result column="updateuserid" property="updateuserid"/>		<result column="updatetime" property="updatetime"/>	</resultMap>	<select id="selectById" parameterType="int" resultType="com.zhoubi.graindepot.bean.Drugoutstore">	 select 		t.billid "billid",		t.billdate "billdate",		t.billcode "billcode",		t.billstate "billstate",		t.outdate "outdate",		t.outreason "outreason",		t.drawuser "drawuser",		t.outtype "outtype",		t.drugdrawid "drugdrawid",		t.remark "remark",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.createuserid "createuserid",		t.createtime "createtime",		t.updateuserid "updateuserid",		t.updatetime "updatetime",		lc.companyname "companyname",		lgp.groupname "groupname",		lgd.graindepotname "graindepotname"		from d_drugoutstore t		left join l_company lc on lc.companyid=t.companyid		left join l_group lgp on lgp.groupid=t.groupid		left join l_graindepot lgd on lgd.graindepotid=t.graindepotid	  where billid=#{billid}	</select>	<select id="selectOne" parameterType="Map" resultType="com.zhoubi.graindepot.bean.Drugoutstore">	 select 		t.billid "billid",		t.billdate "billdate",		t.billcode "billcode",		t.billstate "billstate",		t.outdate "outdate",		t.outreason "outreason",		t.drawuser "drawuser",		t.outtype "outtype",		t.drugdrawid "drugdrawid",		t.remark "remark",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.createuserid "createuserid",		t.createtime "createtime",		t.updateuserid "updateuserid",		t.updatetime "updatetime"	 from d_drugoutstore t where 1=1 		 <if test="billid != null"> and t.billid=#{billid} </if>		 <if test="billdate != null"> and t.billdate=#{billdate} </if>		 <if test="billcode != null"> and t.billcode=#{billcode} </if>		 <if test="billstate != null"> and t.billstate=#{billstate} </if>		 <if test="outdate != null"> and t.outdate=#{outdate} </if>		 <if test="outreason != null"> and t.outreason=#{outreason} </if>		 <if test="drawuser != null"> and t.drawuser=#{drawuser} </if>		 <if test="outtype != null"> and t.outtype=#{outtype} </if>		 <if test="drugdrawid != null"> and t.drugdrawid=#{drugdrawid} </if>		 <if test="remark != null"> and t.remark=#{remark} </if>		 <if test="groupid != null"> and t.groupid=#{groupid} </if>		 <if test="companyid != null"> and t.companyid=#{companyid} </if>		 <if test="graindepotid != null"> and t.graindepotid=#{graindepotid} </if>		 <if test="createuserid != null"> and t.createuserid=#{createuserid} </if>		 <if test="createtime != null"> and t.createtime=#{createtime} </if>		 <if test="updateuserid != null"> and t.updateuserid=#{updateuserid} </if>		 <if test="updatetime != null"> and t.updatetime=#{updatetime} </if>	</select>	<select id="selectList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.Drugoutstore">	 select 		t.billid "billid",		t.billdate "billdate",		t.billcode "billcode",		t.billstate "billstate",		t.outdate "outdate",		t.outreason "outreason",		t.drawuser "drawuser",		t.outtype "outtype",		t.drugdrawid "drugdrawid",		t.remark "remark",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.createuserid "createuserid",		t.createtime "createtime",		t.updateuserid "updateuserid",		t.updatetime "updatetime"	 from d_drugoutstore t where 1=1 		 <if test="billid != null"> and t.billid=#{billid} </if>		 <if test="billdate != null"> and t.billdate=#{billdate} </if>		 <if test="billcode != null"> and t.billcode=#{billcode} </if>		 <if test="billstate != null"> and t.billstate=#{billstate} </if>		 <if test="outdate != null"> and t.outdate=#{outdate} </if>		 <if test="outreason != null"> and t.outreason=#{outreason} </if>		 <if test="drawuser != null"> and t.drawuser=#{drawuser} </if>		 <if test="outtype != null"> and t.outtype=#{outtype} </if>		 <if test="drugdrawid != null"> and t.drugdrawid=#{drugdrawid} </if>		 <if test="remark != null"> and t.remark=#{remark} </if>		 <if test="groupid != null"> and t.groupid=#{groupid} </if>		 <if test="companyid != null"> and t.companyid=#{companyid} </if>		 <if test="graindepotid != null"> and t.graindepotid=#{graindepotid} </if>		 <if test="createuserid != null"> and t.createuserid=#{createuserid} </if>		 <if test="createtime != null"> and t.createtime=#{createtime} </if>		 <if test="updateuserid != null"> and t.updateuserid=#{updateuserid} </if>		 <if test="updatetime != null"> and t.updatetime=#{updatetime} </if>	</select>	<delete id="deleteMap" parameterType="Map">		delete from d_drugoutstore where 1=1 		<if test="Where_IdsStr != null"> and billid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and billid =#{Where_Id} </if>		<if test="Where_billid != null"> and billid=#{Where_billid} </if>		<if test="Where_billdate != null"> and billdate=#{Where_billdate} </if>		<if test="Where_billcode != null"> and billcode=#{Where_billcode} </if>		<if test="Where_billstate != null"> and billstate=#{Where_billstate} </if>		<if test="Where_outdate != null"> and outdate=#{Where_outdate} </if>		<if test="Where_outreason != null"> and outreason=#{Where_outreason} </if>		<if test="Where_drawuser != null"> and drawuser=#{Where_drawuser} </if>		<if test="Where_outtype != null"> and outtype=#{Where_outtype} </if>		<if test="Where_drugdrawid != null"> and drugdrawid=#{Where_drugdrawid} </if>		<if test="Where_remark != null"> and remark=#{Where_remark} </if>		<if test="Where_groupid != null"> and groupid=#{Where_groupid} </if>		<if test="Where_companyid != null"> and companyid=#{Where_companyid} </if>		<if test="Where_graindepotid != null"> and graindepotid=#{Where_graindepotid} </if>		<if test="Where_createuserid != null"> and createuserid=#{Where_createuserid} </if>		<if test="Where_createtime != null"> and createtime=#{Where_createtime} </if>		<if test="Where_updateuserid != null"> and updateuserid=#{Where_updateuserid} </if>		<if test="Where_updatetime != null"> and updatetime=#{Where_updatetime} </if>	</delete>	<sql id="page_template">		<if test="orders != null">		 order by 		<foreach collection="orders" item="order" separator=",">		 ${order} 		</foreach>		</if>		 limit #{offset},#{pageSize} 	</sql> 	<select id="selectPageList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.Drugoutstore">	 select 		t.billid "billid",		t.billdate "billdate",		t.billcode "billcode",		t.billstate "billstate",		t.outdate "outdate",		t.outreason "outreason",		t.drawuser "drawuser",		t.outtype "outtype",		t.drugdrawid "drugdrawid",		t.remark "remark",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.createuserid "createuserid",		t.createtime "createtime",		t.updateuserid "updateuserid",		t.updatetime "updatetime",		lc.companyname "companyname",		lgp.groupname "groupname",		lgd.graindepotname "graindepotname"		from d_drugoutstore t		left join l_company lc on lc.companyid=t.companyid		left join l_group lgp on lgp.groupid=t.groupid		left join l_graindepot lgd on lgd.graindepotid=t.graindepotid	 where 1=1		<if test="billid!=null "> and t.billid=#{billid} </if>		<if test="billdate!=null "> and t.billdate=#{billdate} </if>		<if test="billcode!=null "> and t.billcode=#{billcode} </if>		<if test="billstate!=null "> and t.billstate=#{billstate} </if>		<if test="outdate!=null "> and t.outdate=#{outdate} </if>		<if test="outreason!=null "> and t.outreason=#{outreason} </if>		<if test="drawuser!=null "> and t.drawuser=#{drawuser} </if>		<if test="outtype!=null "> and t.outtype=#{outtype} </if>		<if test="drugdrawid!=null "> and t.drugdrawid=#{drugdrawid} </if>		<if test="remark!=null "> and t.remark=#{remark} </if>		<if test="groupid!=null "> and t.groupid=#{groupid} </if>		<if test="companyid!=null "> and t.companyid=#{companyid} </if>		<if test="graindepotid!=null "> and t.graindepotid=#{graindepotid} </if>		<if test="createuserid!=null "> and t.createuserid=#{createuserid} </if>		<if test="createtime!=null "> and t.createtime=#{createtime} </if>		<if test="updateuserid!=null "> and t.updateuserid=#{updateuserid} </if>		<if test="updatetime!=null "> and t.updatetime=#{updatetime} </if>		 <include refid="page_template"/> 	</select> 	<select id="selectPageCount" parameterType="Map" resultType="int">	 select count(*) from d_drugoutstore t where 1=1 		<if test="billid!=null "> and t.billid=#{billid} </if>		<if test="NoId!=null "> and t.billid!=#{NoId} </if>		<if test="billdate!=null "> and t.billdate=#{billdate} </if>		<if test="billcode!=null "> and t.billcode=#{billcode} </if>		<if test="billstate!=null "> and t.billstate=#{billstate} </if>		<if test="outdate!=null "> and t.outdate=#{outdate} </if>		<if test="outreason!=null "> and t.outreason=#{outreason} </if>		<if test="drawuser!=null "> and t.drawuser=#{drawuser} </if>		<if test="outtype!=null "> and t.outtype=#{outtype} </if>		<if test="drugdrawid!=null "> and t.drugdrawid=#{drugdrawid} </if>		<if test="remark!=null "> and t.remark=#{remark} </if>		<if test="groupid!=null "> and t.groupid=#{groupid} </if>		<if test="companyid!=null "> and t.companyid=#{companyid} </if>		<if test="graindepotid!=null "> and t.graindepotid=#{graindepotid} </if>		<if test="createuserid!=null "> and t.createuserid=#{createuserid} </if>		<if test="createtime!=null "> and t.createtime=#{createtime} </if>		<if test="updateuserid!=null "> and t.updateuserid=#{updateuserid} </if>		<if test="updatetime!=null "> and t.updatetime=#{updatetime} </if>	</select>	<select id="getMaxBillcode" parameterType="int" resultType="String">		SELECT max(billcode)		FROM d_drugoutstore where billcode like		CONCAT(DATE_FORMAT(NOW(),"%Y-%m-%d"),"%")  and  graindepotid=#{graindepotid}	</select> </mapper>