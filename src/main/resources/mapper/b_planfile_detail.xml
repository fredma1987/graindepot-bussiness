<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by AutoCode,v1.0.0 --><mapper namespace="com.zhoubi.graindepot.mapper.PlanfileDetailMapper">    <insert id="insert" parameterType="com.zhoubi.graindepot.bean.PlanfileDetail" useGeneratedKeys="true"            keyProperty="plandetailid">		insert into b_planfile_detail		(		planfileid		,grainid		,grainattrid		,producingyear		,grade		,qualityrequire		,tqty		,kgqty		,tprice		,kgprice		,calcamt		,osplantqty		,isplantqty		,remark		,planbegindate		,planenddate		)		values		(		#{planfileid}		,#{grainid}		,#{grainattrid}		,#{producingyear}		,#{grade}		,#{qualityrequire}		,#{tqty}		,#{kgqty}		,#{tprice}		,#{kgprice}		,#{calcamt}		,#{osplantqty}		,#{isplantqty}		,#{remark}		,#{planbegindate}		,#{planenddate}	)</insert>    <insert id="insertList" parameterType="java.util.List" useGeneratedKeys="true">        insert into b_planfile_detail        (        planfileid        ,grainid        ,grainattrid        ,producingyear        ,grade        ,qualityrequire        ,tqty        ,kgqty        ,tprice        ,kgprice        ,calcamt        ,osplantqty        ,isplantqty        ,remark        ,planbegindate        ,planenddate        )        values        <foreach collection="list" item="item" index="index" separator=",">            (            #{item.planfileid}            ,#{item.grainid}            ,#{item.grainattrid}            ,#{item.producingyear}            ,#{item.grade}            ,#{item.qualityrequire}            ,#{item.tqty}            ,#{item.kgqty}            ,#{item.tprice}            ,#{item.kgprice}            ,#{item.calcamt}            ,#{item.osplantqty}            ,#{item.isplantqty}            ,#{item.remark}            ,#{item.planbegindate}            ,#{item.planenddate}            )        </foreach>    </insert>    <update id="update" parameterType="com.zhoubi.graindepot.bean.PlanfileDetail">		update b_planfile_detail		  set plandetailid=plandetailid		,planfileid=#{planfileid}		,grainid=#{grainid}		,grainattrid=#{grainattrid}		,producingyear=#{producingyear}		,grade=#{grade}		,qualityrequire=#{qualityrequire}		,tqty=#{tqty}		,kgqty=#{kgqty}		,tprice=#{tprice}		,kgprice=#{kgprice}		,calcamt=#{calcamt}		,osplantqty=#{osplantqty}		,isplantqty=#{isplantqty}		,remark=#{remark}		,planbegindate=#{planbegindate}		,planenddate=#{planenddate}		 where plandetailid=#{plandetailid}	</update>    <update id="updateMap" parameterType="Map">        update b_planfile_detail        set plandetailid=plandetailid        <if test="planfileid != null"> ,planfileid=#{planfileid} </if>        <if test="grainid != null"> ,grainid=#{grainid} </if>        <if test="grainattrid != null"> ,grainattrid=#{grainattrid} </if>        <if test="producingyear != null"> ,producingyear=#{producingyear} </if>        <if test="grade != null"> ,grade=#{grade} </if>        <if test="qualityrequire != null"> ,qualityrequire=#{qualityrequire} </if>        <if test="tqty != null"> ,tqty=#{tqty} </if>        <if test="kgqty != null"> ,kgqty=#{kgqty} </if>        <if test="tprice != null"> ,tprice=#{tprice} </if>        <if test="kgprice != null"> ,kgprice=#{kgprice} </if>        <if test="calcamt != null"> ,calcamt=#{calcamt} </if>        <if test="osplantqty != null"> ,osplantqty=#{osplantqty} </if>        <if test="isplantqty != null"> ,isplantqty=#{isplantqty} </if>        <if test="remark != null"> ,remark=#{remark} </if>        <if test="planbegindate != null"> ,planbegindate=#{planbegindate} </if>        <if test="planenddate != null"> ,planenddate=#{planenddate} </if>        where 1=1        <if test="Where_IdsStr != null"> and plandetailid in (${Where_IdsStr}) </if>        <if test="Where_Id != null"> and plandetailid =#{Where_Id} </if>        <if test="Where_plandetailid != null"> and plandetailid=#{Where_plandetailid} </if>        <if test="Where_planfileid != null"> and planfileid=#{Where_planfileid} </if>        <if test="Where_grainid != null"> and grainid=#{Where_grainid} </if>        <if test="Where_grainattrid != null"> and grainattrid=#{Where_grainattrid} </if>        <if test="Where_producingyear != null"> and producingyear=#{Where_producingyear} </if>        <if test="Where_grade != null"> and grade=#{Where_grade} </if>        <if test="Where_qualityrequire != null"> and qualityrequire=#{Where_qualityrequire} </if>        <if test="Where_tqty != null"> and tqty=#{Where_tqty} </if>        <if test="Where_kgqty != null"> and kgqty=#{Where_kgqty} </if>        <if test="Where_tprice != null"> and tprice=#{Where_tprice} </if>        <if test="Where_kgprice != null"> and kgprice=#{Where_kgprice} </if>        <if test="Where_calcamt != null"> and calcamt=#{Where_calcamt} </if>        <if test="Where_osplantqty != null"> and osplantqty=#{Where_osplantqty} </if>        <if test="Where_isplantqty != null"> and isplantqty=#{Where_isplantqty} </if>        <if test="Where_remark != null"> and remark=#{Where_remark} </if>        <if test="Where_planbegindate != null"> and planbegindate=#{Where_planbegindate} </if>        <if test="Where_planenddate != null"> and planenddate=#{Where_planenddate} </if>    </update>    <select id="selectById" parameterType="int" resultType="com.zhoubi.graindepot.bean.PlanfileDetail">	 select 		t.plandetailid "plandetailid",		t.planfileid "planfileid",		t.grainid "grainid",		t.grainattrid "grainattrid",		t.producingyear "producingyear",		t.grade "grade",		t.qualityrequire "qualityrequire",		t.tqty "tqty",		t.kgqty "kgqty",		t.tprice "tprice",		t.kgprice "kgprice",		t.calcamt "calcamt",		t.osplantqty "osplantqty",		t.isplantqty "isplantqty",		t.remark "remark",		t.planbegindate "planbegindate",		t.planenddate "planenddate",		pf.planno "planno",		pf.plantypeid "plantypeid",		lg.grainname "grainname",		lga.grainattrname "grainattrname"	 	from b_planfile_detail t		left join b_planfile pf on pf.planfileid=t.planfileid		left join l_grain lg on lg.grainid=t.grainid		left join l_grainattr lga on lga.grainattrid=t.grainattrid	 where plandetailid=#{plandetailid}	</select>    <select id="selectOne" parameterType="Map" resultType="com.zhoubi.graindepot.bean.PlanfileDetail">        select        t.plandetailid "plandetailid",        t.planfileid "planfileid",        t.grainid "grainid",        t.grainattrid "grainattrid",        t.producingyear "producingyear",        t.grade "grade",        t.qualityrequire "qualityrequire",        t.tqty "tqty",        t.kgqty "kgqty",        t.tprice "tprice",        t.kgprice "kgprice",        t.calcamt "calcamt",        t.osplantqty "osplantqty",        t.isplantqty "isplantqty",        t.remark "remark",        t.planbegindate "planbegindate",        t.planenddate "planenddate"        from b_planfile_detail t where 1=1        <if test="plandetailid != null">and t.plandetailid=#{plandetailid}</if>        <if test="planfileid != null">and t.planfileid=#{planfileid}</if>        <if test="grainid != null">and t.grainid=#{grainid}</if>        <if test="grainattrid != null">and t.grainattrid=#{grainattrid}</if>        <if test="producingyear != null">and t.producingyear=#{producingyear}</if>        <if test="grade != null">and t.grade=#{grade}</if>        <if test="qualityrequire != null">and t.qualityrequire=#{qualityrequire}</if>        <if test="tqty != null">and t.tqty=#{tqty}</if>        <if test="kgqty != null">and t.kgqty=#{kgqty}</if>        <if test="tprice != null">and t.tprice=#{tprice}</if>        <if test="kgprice != null">and t.kgprice=#{kgprice}</if>        <if test="calcamt != null">and t.calcamt=#{calcamt}</if>        <if test="osplantqty != null">and t.osplantqty=#{osplantqty}</if>        <if test="isplantqty != null">and t.isplantqty=#{isplantqty}</if>        <if test="remark != null">and t.remark=#{remark}</if>        <if test="planbegindate != null">and t.planbegindate=#{planbegindate}</if>        <if test="planenddate != null">and t.planenddate=#{planenddate}</if>    </select>    <select id="selectList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.PlanfileDetail">        select        t.plandetailid "plandetailid",        t.planfileid "planfileid",        t.grainid "grainid",        t.grainattrid "grainattrid",        t.producingyear "producingyear",        t.grade "grade",        t.qualityrequire "qualityrequire",        t.tqty "tqty",        t.kgqty "kgqty",        t.tprice "tprice",        t.kgprice "kgprice",        t.calcamt "calcamt",        t.osplantqty "osplantqty",        t.isplantqty "isplantqty",        t.remark "remark",        t.planbegindate "planbegindate",        t.planenddate "planenddate"        from b_planfile_detail t where 1=1        <if test="plandetailid != null">and t.plandetailid=#{plandetailid}</if>        <if test="planfileid != null">and t.planfileid=#{planfileid}</if>        <if test="grainid != null">and t.grainid=#{grainid}</if>        <if test="grainattrid != null">and t.grainattrid=#{grainattrid}</if>        <if test="producingyear != null">and t.producingyear=#{producingyear}</if>        <if test="grade != null">and t.grade=#{grade}</if>        <if test="qualityrequire != null">and t.qualityrequire=#{qualityrequire}</if>        <if test="tqty != null">and t.tqty=#{tqty}</if>        <if test="kgqty != null">and t.kgqty=#{kgqty}</if>        <if test="tprice != null">and t.tprice=#{tprice}</if>        <if test="kgprice != null">and t.kgprice=#{kgprice}</if>        <if test="calcamt != null">and t.calcamt=#{calcamt}</if>        <if test="osplantqty != null">and t.osplantqty=#{osplantqty}</if>        <if test="isplantqty != null">and t.isplantqty=#{isplantqty}</if>        <if test="remark != null">and t.remark=#{remark}</if>        <if test="planbegindate != null">and t.planbegindate=#{planbegindate}</if>        <if test="planenddate != null">and t.planenddate=#{planenddate}</if>    </select>    <delete id="deleteMap" parameterType="Map">        delete from b_planfile_detail where 1=1        <if test="Where_IdsStr != null"> and plandetailid in (${Where_IdsStr}) </if>        <if test="Where_Id != null"> and plandetailid =#{Where_Id} </if>        <if test="Where_plandetailid != null"> and plandetailid=#{Where_plandetailid} </if>        <if test="Where_planfileid != null"> and planfileid=#{Where_planfileid} </if>        <if test="Where_grainid != null"> and grainid=#{Where_grainid} </if>        <if test="Where_grainattrid != null"> and grainattrid=#{Where_grainattrid} </if>        <if test="Where_producingyear != null"> and producingyear=#{Where_producingyear} </if>        <if test="Where_grade != null"> and grade=#{Where_grade} </if>        <if test="Where_qualityrequire != null"> and qualityrequire=#{Where_qualityrequire} </if>        <if test="Where_tqty != null"> and tqty=#{Where_tqty} </if>        <if test="Where_kgqty != null"> and kgqty=#{Where_kgqty} </if>        <if test="Where_tprice != null"> and tprice=#{Where_tprice} </if>        <if test="Where_kgprice != null"> and kgprice=#{Where_kgprice} </if>        <if test="Where_calcamt != null"> and calcamt=#{Where_calcamt} </if>        <if test="Where_osplantqty != null"> and osplantqty=#{Where_osplantqty} </if>        <if test="Where_isplantqty != null"> and isplantqty=#{Where_isplantqty} </if>        <if test="Where_remark != null"> and remark=#{Where_remark} </if>        <if test="Where_planbegindate != null"> and planbegindate=#{Where_planbegindate} </if>        <if test="Where_planenddate != null"> and planenddate=#{Where_planenddate} </if>    </delete>    <sql id="page_template">        <if test="orders != null">            order by            <foreach collection="orders" item="order" separator=",">                ${order}            </foreach>        </if>        limit #{offset},#{pageSize}    </sql>    <select id="selectPageList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.PlanfileDetail">        select        t.plandetailid "plandetailid",        t.planfileid "planfileid",        t.grainid "grainid",        t.grainattrid "grainattrid",        t.producingyear "producingyear",        t.grade "grade",        t.qualityrequire "qualityrequire",        t.tqty "tqty",        t.kgqty "kgqty",        t.tprice "tprice",        t.kgprice "kgprice",        t.calcamt "calcamt",        t.osplantqty "osplantqty",        t.isplantqty "isplantqty",        t.remark "remark",        t.planbegindate "planbegindate",        t.planenddate "planenddate",        pf.planno "planno",        pf.plantypeid "plantypeid",        lg.grainname "grainname",        lga.grainattrname "grainattrname"        from b_planfile_detail t        left join b_planfile pf on pf.planfileid=t.planfileid        left join l_grain lg on lg.grainid=t.grainid        left join l_grainattr lga on lga.grainattrid=t.grainattrid        where 1=1        <if test="planno!=null">and pf.planno like #{planno}</if>        <if test="plandetailid!=null ">and t.plandetailid=#{plandetailid}</if>        <if test="planfileid!=null ">and t.planfileid=#{planfileid}</if>        <if test="grainid!=null ">and t.grainid=#{grainid}</if>        <if test="grainattrid!=null ">and t.grainattrid=#{grainattrid}</if>        <if test="producingyear!=null ">and t.producingyear=#{producingyear}</if>        <if test="grade!=null ">and t.grade=#{grade}</if>        <if test="qualityrequire!=null ">and t.qualityrequire=#{qualityrequire}</if>        <if test="tqty!=null ">and t.tqty=#{tqty}</if>        <if test="kgqty!=null ">and t.kgqty=#{kgqty}</if>        <if test="tprice!=null ">and t.tprice=#{tprice}</if>        <if test="kgprice!=null ">and t.kgprice=#{kgprice}</if>        <if test="calcamt!=null ">and t.calcamt=#{calcamt}</if>        <if test="osplantqty!=null ">and t.osplantqty=#{osplantqty}</if>        <if test="isplantqty!=null ">and t.isplantqty=#{isplantqty}</if>        <if test="remark!=null ">and t.remark=#{remark}</if>        <if test="planbegindate!=null ">and t.planbegindate=#{planbegindate}</if>        <if test="planenddate!=null ">and t.planenddate=#{planenddate}</if>        <include refid="page_template"/>    </select>    <select id="selectPageCount" parameterType="Map" resultType="int">        select count(*) from b_planfile_detail t where 1=1        <if test="plandetailid!=null ">and t.plandetailid=#{plandetailid}</if>        <if test="noid!=null ">and t.plandetailid!=#{noid}</if>        <if test="planfileid!=null ">and t.planfileid=#{planfileid}</if>        <if test="grainid!=null ">and t.grainid=#{grainid}</if>        <if test="grainattrid!=null ">and t.grainattrid=#{grainattrid}</if>        <if test="producingyear!=null ">and t.producingyear=#{producingyear}</if>        <if test="grade!=null ">and t.grade=#{grade}</if>        <if test="qualityrequire!=null ">and t.qualityrequire=#{qualityrequire}</if>        <if test="tqty!=null ">and t.tqty=#{tqty}</if>        <if test="kgqty!=null ">and t.kgqty=#{kgqty}</if>        <if test="tprice!=null ">and t.tprice=#{tprice}</if>        <if test="kgprice!=null ">and t.kgprice=#{kgprice}</if>        <if test="calcamt!=null ">and t.calcamt=#{calcamt}</if>        <if test="osplantqty!=null ">and t.osplantqty=#{osplantqty}</if>        <if test="isplantqty!=null ">and t.isplantqty=#{isplantqty}</if>        <if test="remark!=null ">and t.remark=#{remark}</if>        <if test="planbegindate!=null ">and t.planbegindate=#{planbegindate}</if>        <if test="planenddate!=null ">and t.planenddate=#{planenddate}</if>    </select></mapper>