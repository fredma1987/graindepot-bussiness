<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><!-- create by AutoCode,v1.0.0 --><mapper namespace="com.zhoubi.graindepot.mapper.PlanfileInplanMapper">	<insert id="insert" parameterType="com.zhoubi.graindepot.bean.PlanfileInplan" useGeneratedKeys="true" keyProperty="inplanid">		insert into b_planfile_inplan		(		planfileid		,plandetailid		,groupid		,companyid		,graindepotid		,producingyear		,grade		,tqty		,tprice		,kgqty		,kgprice		,amount		,planbegindate		,planenddate		,execkgqty		,exectqty		,createuserid		,createtime		,spstatus		,spuserid		,sptime		,spremark		)		values		(		#{planfileid}		,#{plandetailid}		,#{groupid}		,#{companyid}		,#{graindepotid}		,#{producingyear}		,#{grade}		,#{tqty}		,#{tprice}		,#{kgqty}		,#{kgprice}		,#{amount}		,#{planbegindate}		,#{planenddate}		,#{execkgqty}		,#{exectqty}		,#{createuserid}		,#{createtime}		,#{spstatus}		,#{spuserid}		,#{sptime}		,#{spremark}	)</insert>	<insert id="insertList" parameterType="java.util.List" useGeneratedKeys="true" >		insert into b_planfile_inplan		(		planfileid		,plandetailid		,groupid		,companyid		,graindepotid		,producingyear		,grade		,tqty		,tprice		,kgqty		,kgprice		,amount		,planbegindate		,planenddate		,execkgqty		,exectqty		,createuserid		,createtime		,spstatus		,spuserid		,sptime		,spremark		)		values		<foreach collection="list" item="item" index="index" separator=",">		 (		#{item.planfileid}		,#{item.plandetailid}		,#{item.groupid}		,#{item.companyid}		,#{item.graindepotid}		,#{item.producingyear}		,#{item.grade}		,#{item.tqty}		,#{item.tprice}		,#{item.kgqty}		,#{item.kgprice}		,#{item.amount}		,#{item.planbegindate}		,#{item.planenddate}		,#{item.execkgqty}		,#{item.exectqty}		,#{item.createuserid}		,#{item.createtime}		,#{item.spstatus}		,#{item.spuserid}		,#{item.sptime}		,#{item.spremark}	) </foreach></insert>	<update id="update" parameterType="com.zhoubi.graindepot.bean.PlanfileInplan">		update b_planfile_inplan		  set inplanid=inplanid		,plandetailid=#{plandetailid}		,groupid=#{groupid}		,companyid=#{companyid}		,graindepotid=#{graindepotid}		,producingyear=#{producingyear}		,grade=#{grade}		,tqty=#{tqty}		,tprice=#{tprice}		,amount=#{amount}		,planbegindate=#{planbegindate}		,planenddate=#{planenddate}		 where inplanid=#{inplanid}	</update>	<update id="updateMap" parameterType="Map">		update b_planfile_inplan		set inplanid=inplanid		<if test="planname != null"> ,planname=#{planname} </if>		<if test="planfileid != null"> ,planfileid=#{planfileid} </if>		<if test="plandetailid != null"> ,plandetailid=#{plandetailid} </if>		<if test="groupid != null"> ,groupid=#{groupid} </if>		<if test="companyid != null"> ,companyid=#{companyid} </if>		<if test="graindepotid != null"> ,graindepotid=#{graindepotid} </if>		<if test="producingyear != null"> ,producingyear=#{producingyear} </if>		<if test="grade != null"> ,grade=#{grade} </if>		<if test="tqty != null"> ,tqty=#{tqty} </if>		<if test="tprice != null"> ,tprice=#{tprice} </if>		<if test="kgqty != null"> ,kgqty=#{kgqty} </if>		<if test="kgprice != null"> ,kgprice=#{kgprice} </if>		<if test="amount != null"> ,amount=#{amount} </if>		<if test="planbegindate != null"> ,planbegindate=#{planbegindate} </if>		<if test="planenddate != null"> ,planenddate=#{planenddate} </if>		<if test="execkgqy != null"> ,execkgqy=#{execkgqy} </if>		<if test="exectqty != null"> ,exectqty=#{exectqty} </if>		<if test="createuserid != null"> ,createuserid=#{createuserid} </if>		<if test="createtime != null"> ,createtime=#{createtime} </if>		<if test="spstatus != null"> ,spstatus=#{spstatus} </if>		<if test="spuserid != null"> ,spuserid=#{spuserid} </if>		<if test="sptime != null"> ,sptime=#{sptime} </if>		<if test="spremark != null"> ,spremark=#{spremark} </if>		where 1=1		<if test="Where_IdsStr != null"> and inplanid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and inplanid =#{Where_Id} </if>		<if test="Where_inplanid != null"> and inplanid=#{Where_inplanid} </if>		<if test="Where_planname != null"> and planname=#{Where_planname} </if>		<if test="Where_planfileid != null"> and planfileid=#{Where_planfileid} </if>		<if test="Where_plandetailid != null"> and plandetailid=#{Where_plandetailid} </if>		<if test="Where_groupid != null"> and groupid=#{Where_groupid} </if>		<if test="Where_companyid != null"> and companyid=#{Where_companyid} </if>		<if test="Where_graindepotid != null"> and graindepotid=#{Where_graindepotid} </if>		<if test="Where_producingyear != null"> and producingyear=#{Where_producingyear} </if>		<if test="Where_grade != null"> and grade=#{Where_grade} </if>		<if test="Where_tqty != null"> and tqty=#{Where_tqty} </if>		<if test="Where_tprice != null"> and tprice=#{Where_tprice} </if>		<if test="Where_kgqty != null"> and kgqty=#{Where_kgqty} </if>		<if test="Where_kgprice != null"> and kgprice=#{Where_kgprice} </if>		<if test="Where_amount != null"> and amount=#{Where_amount} </if>		<if test="Where_planbegindate != null"> and planbegindate=#{Where_planbegindate} </if>		<if test="Where_planenddate != null"> and planenddate=#{Where_planenddate} </if>		<if test="Where_execkgqy != null"> and execkgqy=#{Where_execkgqy} </if>		<if test="Where_exectqty != null"> and exectqty=#{Where_exectqty} </if>		<if test="Where_createuserid != null"> and createuserid=#{Where_createuserid} </if>		<if test="Where_createtime != null"> and createtime=#{Where_createtime} </if>		<if test="Where_spstatus != null"> and spstatus=#{Where_spstatus} </if>		<if test="Where_spuserid != null"> and spuserid=#{Where_spuserid} </if>		<if test="Where_sptime != null"> and sptime=#{Where_sptime} </if>		<if test="Where_spremark != null"> and spremark=#{Where_spremark} </if>	</update>	<select id="selectById" parameterType="int" resultType="com.zhoubi.graindepot.bean.PlanfileInplan">	 select 		t.inplanid "inplanid",		t.planfileid "planfileid",		t.plandetailid "plandetailid",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.producingyear "producingyear",		t.grade "grade",		t.tqty "tqty",		t.tprice "tprice",		t.kgqty "kgqty",		t.kgprice "kgprice",		t.amount "amount",		t.planbegindate "planbegindate",		t.planenddate "planenddate",		t.execkgqty "execkgqty",		t.exectqty "exectqty",		t.createuserid "createuserid",		t.createtime "createtime",		t.spstatus "spstatus",		t.spuserid "spuserid",		t.sptime "sptime",		t.spremark "spremark",		bp.plantypeid "plantypeid",		bp.planno "planno",		lg.grainname "grainname"	 from b_planfile_inplan t		left join b_planfile_detail bpd on bpd.plandetailid=t.plandetailid		left join b_planfile bp on bp.planfileid=bpd.planfileid		left join l_grain lg on lg.grainid=bpd.grainid		 where inplanid=#{inplanid}	</select>	<select id="selectOne" parameterType="Map" resultType="com.zhoubi.graindepot.bean.PlanfileInplan">	 select 		t.inplanid "inplanid",		t.planfileid "planfileid",		t.plandetailid "plandetailid",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.producingyear "producingyear",		t.grade "grade",		t.tqty "tqty",		t.tprice "tprice",		t.kgqty "kgqty",		t.kgprice "kgprice",		t.amount "amount",		t.planbegindate "planbegindate",		t.planenddate "planenddate",		t.execkgqty "execkgqty",		t.exectqty "exectqty",		t.createuserid "createuserid",		t.createtime "createtime",		t.spstatus "spstatus",		t.spuserid "spuserid",		t.sptime "sptime",		t.spremark "spremark"	 from b_planfile_inplan t where 1=1		 <if test="inplanid != null"> and t.inplanid=#{inplanid} </if>		 <if test="planfileid != null"> and t.planfileid=#{planfileid} </if>		 <if test="plandetailid != null"> and t.plandetailid=#{plandetailid} </if>		 <if test="groupid != null"> and t.groupid=#{groupid} </if>		 <if test="companyid != null"> and t.companyid=#{companyid} </if>		 <if test="graindepotid != null"> and t.graindepotid=#{graindepotid} </if>		 <if test="producingyear != null"> and t.producingyear=#{producingyear} </if>		 <if test="grade != null"> and t.grade=#{grade} </if>		 <if test="tqty != null"> and t.tqty=#{tqty} </if>		 <if test="tprice != null"> and t.tprice=#{tprice} </if>		 <if test="kgqty != null"> and t.kgqty=#{kgqty} </if>		 <if test="kgprice != null"> and t.kgprice=#{kgprice} </if>		 <if test="amount != null"> and t.amount=#{amount} </if>		 <if test="planbegindate != null"> and t.planbegindate=#{planbegindate} </if>		 <if test="planenddate != null"> and t.planenddate=#{planenddate} </if>		 <if test="execkgqty != null"> and t.execkgqty=#{execkgqty} </if>		 <if test="exectqty != null"> and t.exectqty=#{exectqty} </if>		 <if test="createuserid != null"> and t.createuserid=#{createuserid} </if>		 <if test="createtime != null"> and t.createtime=#{createtime} </if>		 <if test="spstatus != null"> and t.spstatus=#{spstatus} </if>		 <if test="spuserid != null"> and t.spuserid=#{spuserid} </if>		 <if test="sptime != null"> and t.sptime=#{sptime} </if>		 <if test="spremark != null"> and t.spremark=#{spremark} </if>	</select>	<select id="selectList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.PlanfileInplan">	 select 		t.inplanid "inplanid",		t.planfileid "planfileid",		t.plandetailid "plandetailid",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.producingyear "producingyear",		t.grade "grade",		t.tqty "tqty",		t.tprice "tprice",		t.kgqty "kgqty",		t.kgprice "kgprice",		t.amount "amount",		t.planbegindate "planbegindate",		t.planenddate "planenddate",		t.execkgqty "execkgqty",		t.exectqty "exectqty",		t.createuserid "createuserid",		t.createtime "createtime",		t.spstatus "spstatus",		t.spuserid "spuserid",		t.sptime "sptime",		t.spremark "spremark"	 from b_planfile_inplan t where 1=1		 <if test="inplanid != null"> and t.inplanid=#{inplanid} </if>		 <if test="planfileid != null"> and t.planfileid=#{planfileid} </if>		 <if test="plandetailid != null"> and t.plandetailid=#{plandetailid} </if>		 <if test="groupid != null"> and t.groupid=#{groupid} </if>		 <if test="companyid != null"> and t.companyid=#{companyid} </if>		 <if test="graindepotid != null"> and t.graindepotid=#{graindepotid} </if>		 <if test="producingyear != null"> and t.producingyear=#{producingyear} </if>		 <if test="grade != null"> and t.grade=#{grade} </if>		 <if test="tqty != null"> and t.tqty=#{tqty} </if>		 <if test="tprice != null"> and t.tprice=#{tprice} </if>		 <if test="kgqty != null"> and t.kgqty=#{kgqty} </if>		 <if test="kgprice != null"> and t.kgprice=#{kgprice} </if>		 <if test="amount != null"> and t.amount=#{amount} </if>		 <if test="planbegindate != null"> and t.planbegindate=#{planbegindate} </if>		 <if test="planenddate != null"> and t.planenddate=#{planenddate} </if>		 <if test="execkgqty != null"> and t.execkgqty=#{execkgqty} </if>		 <if test="exectqty != null"> and t.exectqty=#{exectqty} </if>		 <if test="createuserid != null"> and t.createuserid=#{createuserid} </if>		 <if test="createtime != null"> and t.createtime=#{createtime} </if>		 <if test="spstatus != null"> and t.spstatus=#{spstatus} </if>		 <if test="spuserid != null"> and t.spuserid=#{spuserid} </if>		 <if test="sptime != null"> and t.sptime=#{sptime} </if>		 <if test="spremark != null"> and t.spremark=#{spremark} </if>	</select>	<delete id="deleteMap" parameterType="Map">		delete from b_planfile_inplan where 1=1		<if test="Where_IdsStr != null"> and inplanid in (${Where_IdsStr}) </if>		<if test="Where_Id != null"> and inplanid =#{Where_Id} </if>		<if test="Where_inplanid != null"> and inplanid=#{Where_inplanid} </if>		<if test="Where_planname != null"> and planname=#{Where_planname} </if>		<if test="Where_planfileid != null"> and planfileid=#{Where_planfileid} </if>		<if test="Where_plandetailid != null"> and plandetailid=#{Where_plandetailid} </if>		<if test="Where_groupid != null"> and groupid=#{Where_groupid} </if>		<if test="Where_companyid != null"> and companyid=#{Where_companyid} </if>		<if test="Where_graindepotid != null"> and graindepotid=#{Where_graindepotid} </if>		<if test="Where_producingyear != null"> and producingyear=#{Where_producingyear} </if>		<if test="Where_grade != null"> and grade=#{Where_grade} </if>		<if test="Where_tqty != null"> and tqty=#{Where_tqty} </if>		<if test="Where_tprice != null"> and tprice=#{Where_tprice} </if>		<if test="Where_kgqty != null"> and kgqty=#{Where_kgqty} </if>		<if test="Where_kgprice != null"> and kgprice=#{Where_kgprice} </if>		<if test="Where_amount != null"> and amount=#{Where_amount} </if>		<if test="Where_planbegindate != null"> and planbegindate=#{Where_planbegindate} </if>		<if test="Where_planenddate != null"> and planenddate=#{Where_planenddate} </if>		<if test="Where_execkgqy != null"> and execkgqy=#{Where_execkgqy} </if>		<if test="Where_exectqty != null"> and exectqty=#{Where_exectqty} </if>		<if test="Where_createuserid != null"> and createuserid=#{Where_createuserid} </if>		<if test="Where_createtime != null"> and createtime=#{Where_createtime} </if>		<if test="Where_spstatus != null"> and spstatus=#{Where_spstatus} </if>		<if test="Where_spuserid != null"> and spuserid=#{Where_spuserid} </if>		<if test="Where_sptime != null"> and sptime=#{Where_sptime} </if>		<if test="Where_spremark != null"> and spremark=#{Where_spremark} </if>	</delete>	<sql id="page_template">		<if test="orders != null">		 order by 		<foreach collection="orders" item="order" separator=",">		 ${order} 		</foreach>		</if>		 limit #{offset},#{pageSize} 	</sql> 	<select id="selectPageList" parameterType="Map" resultType="com.zhoubi.graindepot.bean.PlanfileInplan">	 select 		t.inplanid "inplanid",		t.planfileid "planfileid",		t.plandetailid "plandetailid",		t.groupid "groupid",		t.companyid "companyid",		t.graindepotid "graindepotid",		t.producingyear "producingyear",		t.grade "grade",		t.tqty "tqty",		t.tprice "tprice",		t.kgqty "kgqty",		t.kgprice "kgprice",		t.amount "amount",		t.planbegindate "planbegindate",		t.planenddate "planenddate",		t.execkgqty "execkgqty",		t.exectqty "exectqty",		t.createuserid "createuserid",		t.createtime "createtime",		t.spstatus "spstatus",		t.spuserid "spuserid",		t.sptime "sptime",		t.spremark "spremark",		bp.plantypeid "plantypeid",		bp.planno "planno",		lg.grainname "grainname"	 from b_planfile_inplan t		left join b_planfile_detail bpd on bpd.plandetailid=t.plandetailid		left join b_planfile bp on bp.planfileid=bpd.planfileid		left join l_grain lg on lg.grainid=bpd.grainid		where 1=1		<if test="planno != null"> and bp.planno like #{planno} </if>		<if test="inplanid!=null "> and t.inplanid=#{inplanid} </if>		<if test="planfileid!=null "> and t.planfileid=#{planfileid} </if>		<if test="plandetailid!=null "> and t.plandetailid=#{plandetailid} </if>		<if test="groupid!=null "> and t.groupid=#{groupid} </if>		<if test="companyid!=null "> and t.companyid=#{companyid} </if>		<if test="graindepotid!=null "> and t.graindepotid=#{graindepotid} </if>		<if test="producingyear!=null "> and t.producingyear=#{producingyear} </if>		<if test="grade!=null "> and t.grade=#{grade} </if>		<if test="tqty!=null "> and t.tqty=#{tqty} </if>		<if test="tprice!=null "> and t.tprice=#{tprice} </if>		<if test="kgqty!=null "> and t.kgqty=#{kgqty} </if>		<if test="kgprice!=null "> and t.kgprice=#{kgprice} </if>		<if test="amount!=null "> and t.amount=#{amount} </if>		<if test="planbegindate!=null "> and t.planbegindate=#{planbegindate} </if>		<if test="planenddate!=null "> and t.planenddate=#{planenddate} </if>		<if test="execkgqty!=null "> and t.execkgqty=#{execkgqty} </if>		<if test="exectqty!=null "> and t.exectqty=#{exectqty} </if>		<if test="createuserid!=null "> and t.createuserid=#{createuserid} </if>		<if test="createtime!=null "> and t.createtime=#{createtime} </if>		<if test="spstatus!=null "> and t.spstatus=#{spstatus} </if>		<if test="spuserid!=null "> and t.spuserid=#{spuserid} </if>		<if test="sptime!=null "> and t.sptime=#{sptime} </if>		<if test="spremark!=null "> and t.spremark=#{spremark} </if>		 <include refid="page_template"/> 	</select> 	<select id="selectPageCount" parameterType="Map" resultType="int">	 select count(*) from b_planfile_inplan t		left join b_planfile_detail bpd on bpd.plandetailid=t.plandetailid		left join b_planfile bp on bp.planfileid=bpd.planfileid		left join l_grain lg on lg.grainid=bpd.grainid		where 1=1		<if test="planno != null"> and bp.planno like #{planno} </if>		<if test="inplanid!=null "> and t.inplanid=#{inplanid} </if>		<if test="noid!=null "> and t.inplanid!=#{noid} </if>		<if test="planfileid!=null "> and t.planfileid=#{planfileid} </if>		<if test="plandetailid!=null "> and t.plandetailid=#{plandetailid} </if>		<if test="groupid!=null "> and t.groupid=#{groupid} </if>		<if test="companyid!=null "> and t.companyid=#{companyid} </if>		<if test="graindepotid!=null "> and t.graindepotid=#{graindepotid} </if>		<if test="producingyear!=null "> and t.producingyear=#{producingyear} </if>		<if test="grade!=null "> and t.grade=#{grade} </if>		<if test="tqty!=null "> and t.tqty=#{tqty} </if>		<if test="tprice!=null "> and t.tprice=#{tprice} </if>		<if test="kgqty!=null "> and t.kgqty=#{kgqty} </if>		<if test="kgprice!=null "> and t.kgprice=#{kgprice} </if>		<if test="amount!=null "> and t.amount=#{amount} </if>		<if test="planbegindate!=null "> and t.planbegindate=#{planbegindate} </if>		<if test="planenddate!=null "> and t.planenddate=#{planenddate} </if>		<if test="execkgqty!=null "> and t.execkgqty=#{execkgqty} </if>		<if test="exectqty!=null "> and t.exectqty=#{exectqty} </if>		<if test="createuserid!=null "> and t.createuserid=#{createuserid} </if>		<if test="createtime!=null "> and t.createtime=#{createtime} </if>		<if test="spstatus!=null "> and t.spstatus=#{spstatus} </if>		<if test="spuserid!=null "> and t.spuserid=#{spuserid} </if>		<if test="sptime!=null "> and t.sptime=#{sptime} </if>		<if test="spremark!=null "> and t.spremark=#{spremark} </if>	</select> </mapper>