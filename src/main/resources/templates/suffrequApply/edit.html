<!DOCTYPE html><html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"><head th:replace="head::head(${title})"></head><link th:href="@{/assets/css/select/bootstrap-select.min.css}" rel="stylesheet" media="screen"><script th:src="@{/assets/js/select/bootstrap-select.js}"></script><script th:src="@{/assets/js/select/defaults-zh_CN.js}"></script><link th:href="@{/assets/js/uploadify/uploadify.css}" rel="stylesheet" type="text/css"><script th:src="@{/assets/js/uploadify/jquery.uploadify.js}"></script><body style="overflow-x: hidden"><form class="form-horizontal" role="form" id="validation-form" method="get">    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="instordatestr">                <span class="red">*</span>入仓日期:            </label>            <div class="col-sm-6">                <!--<input size="16" type="text" name="instordate" id="instordate"-->                <!--readonly class="form_date form-control">-->                <input size="16" type="text" name="instordatestr" id="instordatestr"                       th:value="${item.instordatestr}"                       readonly class="form_date form-control">            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="ghvolume">                <span class="red">*</span>粮堆体积(方):            </label>            <div class="col-sm-6">                <input type="text" name="ghvolume" id="ghvolume" class="form-control"                       data-bv-notempty th:value="${item.ghvolume}"                       placeholder="粮堆体积(方)"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="kjvolume">                空间体积(方):            </label>            <div class="col-sm-6">                <input type="text" name="kjvolume" id="kjvolume" class="form-control"                       th:value="${item.kjvolume}"                       placeholder="空间体积(方)"/>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="quantity">                <span class="red">*</span>粮食数量:            </label>            <div class="col-sm-6">                <input type="text" name="quantity" id="quantity" class="form-control"                       data-bv-notempty th:value="${item.quantity}"                       placeholder="粮食数量"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="grainid">                <span class="red">*</span>粮食品种:            </label>            <div class="col-sm-6">                <select id="grainid" name="grainid" class="form-control"                        data-bv-notempty th:value="${item.grainid}">                </select>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="grainattrid">                <span class="red">*</span>粮食性质:            </label>            <div class="col-sm-6">                <select id="grainattrid" name="grainattrid" class="form-control"                        data-bv-notempty th:value="${item.grainattrid}">                </select>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="producingyear">                收获年度:            </label>            <div class="col-sm-6">                <input size="16" type="text" name="producingyear" id="producingyear"                       th:value="${item.producingyear}"                       readonly class="form_year form-control">            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="stacktype">                堆放方式:            </label>            <div class="col-sm-6">                <select id="stacktype" name="stacktype" class="form-control"                        th:value="${item.stacktype}">                </select>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="sufftypeid">                熏蒸方式:            </label>            <div class="col-sm-6">                <select id="sufftypeid" name="sufftypeid" class="form-control"                        th:value="${item.sufftypeid}">                </select>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="insectname">                虫害名称:            </label>            <div class="col-sm-6">                <input type="text" name="insectname" id="insectname" class="form-control"                       th:value="${item.insectname}"                       placeholder="虫害名称"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="insectdensity">                虫害密度:            </label>            <div class="col-sm-6">                <input type="text" name="insectdensity" id="insectdensity" class="form-control"                       th:value="${item.insectdensity}"                       placeholder="虫害密度"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="suffcount">                已熏蒸次数:            </label>            <div class="col-sm-6">                <input type="text" name="suffcount" id="suffcount" class="form-control"                       th:value="${item.suffcount}" placeholder="已熏蒸次数"/>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="lastsuffdatestr">                上次熏蒸日期:            </label>            <div class="col-sm-6">                <!--<input type="text" name="lastsuffdate" id="lastsuffdate" class="form-control"-->                <!--th:value="${item.lastsuffdate}"-->                <!--placeholder="上次熏蒸日期"/>-->                <input size="16" type="text" name="lastsuffdatestr" id="lastsuffdatestr"                       readonly class="form_date form-control">            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="drugkindid">                <span class="red">*</span>药剂种类:            </label>            <div class="col-sm-6">                <!--<input type="text" name="drugkindid" id="drugkindid" class="form-control"-->                <!--th:value="${item.drugkindid}" -->                <!--placeholder="药剂种类"/>-->                <select id="drugkindid" name="drugkindid" class="form-control"                        data-bv-notempty th:value="${item.drugkindid}">                </select>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="kjunitqty">                空间单位用药量(克/方):            </label>            <div class="col-sm-6">                <input type="text" name="kjunitqty" id="kjunitqty" class="form-control"                       th:value="${item.kjunitqty}"                       placeholder="空间单位用药量(克/方)"/>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="ghqty">                粮堆单位用药量(克/方):            </label>            <div class="col-sm-6">                <input type="text" name="ghqty" id="ghqty" class="form-control"                       th:value="${item.ghqty}"                       placeholder="粮堆单位用药量(克/方)"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="totalqty">                合计用药量(千克):            </label>            <div class="col-sm-6">                <input type="text" name="totalqty" id="totalqty" class="form-control"                       th:value="${item.totalqty}" )"                placeholder="合计用药量(千克)"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="mibimethod">                密闭方法:            </label>            <div class="col-sm-6">                <input type="text" name="mibimethod" id="mibimethod" class="form-control"                       th:value="${item.mibimethod}"                       placeholder="密闭方法"/>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="mibitime">                密闭时间:            </label>            <div class="col-sm-6">                <input type="text" name="mibitime" id="mibitime" class="form-control"                       th:value="${item.mibitime}"                       placeholder="密闭时间"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="instortemp">                仓内温度:            </label>            <div class="col-sm-6">                <input type="text" name="instortemp" id="instortemp" class="form-control"                       th:value="${item.instortemp}"                       placeholder="仓内温度"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="outstortemp">                仓外温度:            </label>            <div class="col-sm-6">                <input type="text" name="outstortemp" id="outstortemp" class="form-control"                       th:value="${item.outstortemp}"                       placeholder="仓外温度"/>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="instorhumi">                仓内湿度:            </label>            <div class="col-sm-6">                <input type="text" name="instorhumi" id="instorhumi" class="form-control"                       th:value="${item.instorhumi}"                       placeholder="仓内湿度"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="outstorhumi">                仓外湿度:            </label>            <div class="col-sm-6">                <input type="text" name="outstorhumi" id="outstorhumi" class="form-control"                       th:value="${item.outstorhumi}"                       placeholder="仓外湿度"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="storageid">                仓房:            </label>            <div class="col-sm-6">                <select id="storageid" name="storageid" class="form-control"                        th:value="${item.storageid}">                </select>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="maxgraintemp">                粮温最高值:            </label>            <div class="col-sm-6">                <input type="text" name="maxgraintemp" id="maxgraintemp" class="form-control"                       th:value="${item.maxgraintemp}"                       placeholder="粮温最高值"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="mingraintemp">                粮温最低值:            </label>            <div class="col-sm-6">                <input type="text" name="mingraintemp" id="mingraintemp" class="form-control"                       th:value="${item.mingraintemp}"                       placeholder="粮温最低值"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="avggraintemp">                粮温平均值:            </label>            <div class="col-sm-6">                <input type="text" name="avggraintemp" id="avggraintemp" class="form-control"                       th:value="${item.avggraintemp}"                       placeholder="粮温平均值"/>            </div>        </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="maxwaterrate">                水分最高值:            </label>            <div class="col-sm-6">                <input type="text" name="maxwaterrate" id="maxwaterrate" class="form-control"                       th:value="${item.maxwaterrate}"                       placeholder="水分最高值"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="minwaterrate">                水分最低值:            </label>            <div class="col-sm-6">                <input type="text" name="minwaterrate" id="minwaterrate" class="form-control"                       th:value="${item.minwaterrate}"                       placeholder="水分最低值"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="avgwaterrate">                水分平均值:            </label>            <div class="col-sm-6">                <input type="text" name="avgwaterrate" id="avgwaterrate" class="form-control"                       th:value="${item.avgwaterrate}"                       placeholder="水分平均值"/>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="impurate">                杂质率:            </label>            <div class="col-sm-6">                <input type="text" name="impurate" id="impurate" class="form-control"                       th:value="${item.impurate}"                       placeholder="杂质率"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="suffaddress">                熏蒸地点:            </label>            <div class="col-sm-6">                <input type="text" name="suffaddress" id="suffaddress" class="form-control"                       th:value="${item.suffaddress}"                       placeholder="熏蒸地点"/>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="content">                文本内容:            </label>            <div class="col-sm-6">                <input type="text" name="content" id="content" class="form-control"                       th:value="${item.content}"                       placeholder="文本内容"/>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="audioptid1">                一级审核人:            </label>            <div class="col-sm-6">                <select id="audioptid1" name="audioptid1" class="form-control"                        th:value="${item.audioptid1}">                </select>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="audioptid2">                二级审核人:            </label>            <div class="col-sm-6">                <select id="audioptid2" name="audioptid2" class="form-control"                        th:value="${item.audioptid2}">                </select>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="audioptid3">                三级审核人:            </label>            <div class="col-sm-6">                <select id="audioptid3" name="audioptid3" class="form-control"                        th:value="${item.audioptid3}">                </select>            </div>        </div>    </div>    <div class="row">        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="audioptid4">                四级审核人:            </label>            <div class="col-sm-6">                <select id="audioptid4" name="audioptid4" class="form-control"                        th:value="${item.audioptid4}">                </select>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="audioptid4">                五级审核人:            </label>            <div class="col-sm-6">                <select id="audioptid4" name="audioptid4" class="form-control"                        th:value="${item.audioptid4}">                </select>            </div>        </div>        <div class="form-group col-sm-4">            <label class="col-sm-6 control-label no-padding-right" for="remark">                备注:            </label>            <div class="col-sm-6">                <input type="text" name="remark" id="remark" class="form-control"                       th:value="${item.remark}"                       placeholder="备注"/>            </div>        </div>    </div>    </div>    <div class="form-group">        <div class="col-md-12 center">            <button class="btn btn-info" type="submit">                <i class="icon-ok bigger-110"></i>                保存            </button>            &nbsp; &nbsp; &nbsp;            <button class="btn" type="button" onclick="toBack()">                <i class="icon-arrow-left bigger-110"></i>                返回            </button>        </div>    </div></form></body></html><script th:inline="javascript">    var urlPrefix = "/graindepot-bussiness";    //var urlPrefix = "";    var g_id = [[${id}]];    var g_item = [[${item}]];    $(function () {        //初始化form验证        initForm();        //初始化日期时间框        $(".form_year").bootstrapYear();        //$(".form_datetime").bootstrapDatetime();        $(".form_date").bootstrapDate();        $('#ghvolume').bootstrapNumber({precision: 2});        $('#kjvolume').bootstrapNumber({precision: 2});        $('#quantity').bootstrapNumber({precision: 2});        // $('#suffcount').bootstrapNumber({precision: 2});        $('#kjunitqty').bootstrapNumber({precision: 2});        $('#ghunitqty').bootstrapNumber({precision: 2});        $('#kjqty').bootstrapNumber({precision: 2});        $('#ghqty').bootstrapNumber({precision: 2});        $('#totalqty').bootstrapNumber({precision: 2});        $('#instortemp').bootstrapNumber({precision: 2});        $('#outstortemp').bootstrapNumber({precision: 2});        $('#instorhumi').bootstrapNumber({precision: 2});        $('#outstorhumi').bootstrapNumber({precision: 2});        $('#maxgraintemp').bootstrapNumber({precision: 2});        $('#mingraintemp').bootstrapNumber({precision: 2});        $('#maxwaterrate').bootstrapNumber({precision: 2});        $('#minwaterrate').bootstrapNumber({precision: 2});        $('#avgwaterrate').bootstrapNumber({precision: 2});        $('#impurate').bootstrapNumber({precision: 2});        //初始化下拉框        //1.初始化仓房        initStorageid();        //2.初始化粮食品种下拉框        initGrainid();        //3.初始化粮食性质下拉框        initGrainattrid();        //4.初始堆放方式下拉框        initStacktype();        //5.初始化熏蒸方式下拉框        initSufftypeid();        //6.初始化药剂种类        initDrugkindid();        //7.初始化审核人        initAudioptid();    });    function initStacktype() {        var data = [{value: 0, text: "散装"}, {value: 1, text: "包装"}];        $("#stacktype").bootstrapSelect({            // url: '/graindepot-base/grain',            // type: 'GET',            data: data,            valueField: 'value',            textField: 'text',            defaultValue: g_item.stacktype        });    }    function initSufftypeid() {        var data = [{value: 1, text: "环流熏蒸"}, {value: 2, text: "常规熏蒸"}, {value: 3, text: "三低熏蒸"}];        $("#sufftypeid").bootstrapSelect({            // url: '/graindepot-base/grain',            // type: 'GET',            data: data,            valueField: 'value',            textField: 'text',            defaultValue: g_item.sufftypeid        });    }    function initGrainid() {        $("#grainid").bootstrapSelect({            url: '/graindepot-base/selector/grainList',            type: 'GET',            valueField: 'grainid',            textField: 'grainname',            defaultValue: g_item.grainid,        });    }    function initGrainattrid() {        $("#grainattrid").bootstrapSelect({            url: '/graindepot-base/selector/grainattrList',            type: 'GET',            valueField: 'grainattrid',            textField: 'grainattrname',            defaultValue: g_item.grainattrid        });    }    function initStorageid() {        $("#storageid").bootstrapSelect({            url: '/graindepot-base/selector/storageList',            type: 'GET',            valueField: 'storageid',            textField: 'storagename',            defaultValue: g_item.storageid        });    }    function initDrugkindid() {        $("#drugkindid").bootstrapSelect({            url: '/graindepot-base/selector/drugkindList',            type: 'GET',            valueField: 'drugkindid',            textField: 'drugkindname',            defaultValue: g_item.drugkindid        });    }    function initAudioptid() {        $("#drugkindid").bootstrapSelect({            url: '/graindepot-base/selector/drugkindList',            type: 'GET',            valueField: 'drugkindid',            textField: 'drugkindname',            defaultValue: g_item.drugkindid        });    }    function toBack() {        parent.$.bootstrapBox.dialog.close();    }    //填写表单    function initForm() {        $('#validation-form').bootstrapValidator({            // fields: {            //     trucknum: {            //         validators: {            //             remote: {            //                 url: urlPrefix + '/truck/checkRepeat',            //                 message: '车船号已存在',//提示消息            //                 //delay :  2000,//每输入一个字符，就发ajax请求，服务器压力还是太大，设置2秒发送一次ajax（默认输入一个字符，提交一次，服务器压力太大）            //                 type: 'POST',//请求方式            //                 data: function (validator) {            //                     return {            //                         trucknum: $("#trucknum").val(),            //                         truckid: g_id            //                     };            //                 }            //             }            //         }            //     }            // }        }).on('success.form.bv', function (e) {            // Prevent form submission            e.preventDefault();            var param = turnArrayToJson($('form').serializeArray());            if (g_id) {                param.billid = g_id            }            $.post(urlPrefix + "/suffrequ/edit", param, function (result) {                parent.toSave(result)            })        });    }</script>