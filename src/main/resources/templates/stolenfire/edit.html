<!DOCTYPE html><html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"><head th:replace="head::head(${title})"></head><link th:href="@{/assets/css/select/bootstrap-select.min.css}" rel="stylesheet" media="screen"><script th:src="@{/assets/js/select/bootstrap-select.js}"></script><script th:src="@{/assets/js/select/defaults-zh_CN.js}"></script><link th:href="@{/assets/js/uploadify/uploadify.css}" rel="stylesheet" type="text/css"><script th:src="@{/assets/js/uploadify/jquery.uploadify.js}"></script><body style="overflow-x: hidden"><form class="form-horizontal" role="form" id="validation-form" method="get">    <div class="form-group">        <label class="col-sm-4 control-label no-padding-right" for="stolenfiretype">            <span class="red">*</span>事故类型:        </label>        <div class="col-sm-4">            <select id="stolenfiretype" name="stolenfiretype" class="form-control"                    th:value="${item.stolenfiretype}">            </select>        </div>    </div>    <div class="form-group">        <label class="col-sm-4 control-label no-padding-right" for="occurtimestr">            <span ></span>发生时间:        </label>        <div class="col-sm-4">            <input size="16" type="text" name="occurtimestr" id="occurtimestr"                   th:value="${item.occurtimestr}"                   readonly class="form_date form-control">        </div>    </div>    <div class="form-group">        <label class="col-sm-4 control-label no-padding-right" for="occurarea">            <span ></span>受灾部位:        </label>        <div class="col-sm-4">            <input type="text" name="occurarea" id="occurarea" class="form-control"                   th:value="${item.occurarea}"                   placeholder="受灾部位"/>        </div>    </div>    <div class="form-group">        <label class="col-sm-4 control-label no-padding-right" for="processcause">            <span ></span>发案经过及原因:        </label>        <div class="col-sm-4">            <input type="text" name="processcause" id="processcause" class="form-control"                   th:value="${item.processcause}"                   placeholder="发案经过及原因"/>        </div>    </div>    <div class="form-group">        <label class="col-sm-4 control-label no-padding-right" for="lossmoney">            <span ></span>直接经济损失额（元）:        </label>        <div class="col-sm-4">            <input type="text" name="lossmoney" id="lossmoney" class="form-control"                    th:value="${item.lossmoney}"                   placeholder="直接经济损失额（元）"/>        </div>    </div>    <div class="form-group">        <label class="col-sm-4 control-label no-padding-right" for="dealresult">            <span ></span>处理情况:        </label>        <div class="col-sm-4">            <input type="text" name="dealresult" id="dealresult" class="form-control"                    th:value="${item.dealresult}"                   placeholder="处理情况"/>        </div>    </div>    <div class="form-group">        <div class="col-md-12 center">            <button class="btn btn-info" type="submit">                <i class="icon-ok bigger-110"></i>                保存            </button>            &nbsp; &nbsp; &nbsp;            <button class="btn" type="button" onclick="toBack()">                <i class="icon-arrow-left bigger-110"></i>                返回            </button>        </div>    </div></form></body></html><script th:inline="javascript">    var urlPrefix="/graindepot-bussiness";    //var urlPrefix = "";    var g_id = [[${id}]];    var g_item = [[${item}]];    $(function () {        //初始化form验证        initForm();        $(".form_date").bootstrapDate();        //1.事故类型        initStolenfiretype();            });   function initStolenfiretype() {       var data = [{value: 1, text: "失窃"}, {value: 2, text: "火灾"}];       $("#stolenfiretype").bootstrapSelect({           //url: '/tableListPost',           // type: 'POST',           data: data,           valueField: 'value',           textField: 'text',           defaultValue: g_item.stolenfiretype       });   }    function toBack() {        parent.$.bootstrapBox.dialog.close();    }    //填写表单    function initForm() {        $('#validation-form').bootstrapValidator({            fields: {                // goodstypename: {                //     validators: {                //         remote: {                //             url: urlPrefix + '/goodsType/checkRepeat',                //             message: '物料类型名称已存在',//提示消息                //             //delay :  2000,//每输入一个字符，就发ajax请求，服务器压力还是太大，设置2秒发送一次ajax（默认输入一个字符，提交一次，服务器压力太大）                //             type: 'POST',//请求方式                //             data: function (validator) {                //                 return {                //                     goodstypename: $("#goodstypename").val(),                //                     goodstypeid: g_id                //                 };                //             }                //         }                //     }                // }            }        }).on('success.form.bv', function (e) {                // Prevent form submission                e.preventDefault();                var param = turnArrayToJson($('form').serializeArray());                if (g_id) {                    param.stolenfireid = g_id                }                $.post(urlPrefix + "/stolenfire/edit", param, function (result) {                    parent.toSave(result)                })            });    }</script>